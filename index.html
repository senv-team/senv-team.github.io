<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>senv</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
    <!-- Simple line icons-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.5.5/css/simple-line-icons.min.css" rel="stylesheet" />  <!-- logos -->
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
    <link href="css/timeline.css" rel="stylesheet" />
    <!--<link href="https://maxcdn.icons8.com/fonts/line-awesome/1.1/css/line-awesome.min.css" rel="stylesheet">-->

    <!-- Visualisations -->
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>

</head>
<body id="page-top">

<!-- Navigation-->
<a class="menu-toggle rounded" href="#"><i class="fas fa-bars"></i></a>
<nav id="sidebar-wrapper">
    <ul class="sidebar-nav">
        <li class="sidebar-brand"><a href="#page-top">senv team</a></li>
        <li class="sidebar-nav-item"><a href="#page-top">home</a></li>
        <li class="sidebar-nav-item"><a href="#about">about</a></li>
        <!--<li class="sidebar-nav-item"><a href="#team">team</a></li>
        <li class="sidebar-nav-item"><a href="#system">system</a></li>-->
        <li class="sidebar-nav-item"><a href="wiki/index.html">wiki&nbsp;&nbsp;<i class="fa fa-external-link" aria-hidden="true"></i></a></li>
    </ul>
</nav>

<!-- Header-->
<header class="masthead static-bg d-flex align-items-center bg-secondary-opa">
    <div class="container px-4 px-lg-5 text-center content-section-heading">
        <h1 class="mb-1">senv team</h1>
        <h3 class="mb-5">[Working on a deep learning model for science]</h3>
        <!--<h3 class="mb-5"><em>Systematic disease understanding, but for climate change.</em></h3>-->
        <!--<a class="btn btn-primary btn-xl" href="#about">Find Out More</a>-->
    </div>
</header>
  
<!-- Template -->
<!--
<section class="content-section" id="about">
    <div class="container px-4 px-lg-5 text-center">
        <div class="row gx-4 gx-lg-5 justify-content-center content-section-heading">
            <div class="col-lg-10">
                <h2>about</h2>
                <h3 class="text-secondary mb-5">[science environment]</h3>
                <h4><strong>We do data analysis of satellite data</strong></h4>
                <p class="lead mb-5">
                    We are a group of people who just started a new side project. Instead of sticking ourselves onto the road to help raise awareness of climate change, we want to do our part with analysing remote sensing data and hopefully find something useful!
                </p>
                <h4><strong>Sprint 1: "algaebra" - analyis of algae growth</strong></h4>
                <p class="lead mb-5">
                    The first thing we are working on is the segmentation and monitoring of algae with the help of satellites such as: MODIS, Sentinel 2a/2b and Landsat. Find out more in our <a href="wiki/progress.html">wiki</a>.
                </p>
                <h4><strong>Join, help or just say hi!</strong></h4>
                <p class="lead mb-5">
                    We meet twice a week for an hour to work together and update each other on what progress we made. On Thursday we focus on science, on Saturday we focus on coding. If you feel like this is something you'd be interested in, say hi and we can see whether you can get involved (core team, short-term collaborator, advisor, ...). On a side-note, everything we do here is open source and volountairy work - we may publish something someday though.
                </p>
                <a class="btn btn-dark btn-xl" href="mailto:hello.senv.team@gmail.com">Talk to us!</a>
            </div>
        </div>
    </div>
</section>
-->  

<!-- Map -->
<section class="content-section" id="about">
    <div class="container px-4 px-lg-5 text-center">
        <div class="row gx-4 gx-lg-5 justify-content-center content-section-heading">
            <div class="col-lg-10">
                <h2>data</h2>
                <h3 class="text-secondary mb-5">[candidates for underlying or influenced factors of climate change]</h3>
                <div class="content">
                    <div id="my_dataviz"></div> 
                </div>

                
              <!-- SVG -->
              <!--
              <div id="dropdown" style="margin-bottom: 10px">
                <!--<button type="button" class="btn btn-light" onclick="visualise('depth')">Depth</button>-->
                <!--
                <select id="spring_fall" class="form-select" >
                  <option value="s2021">Spring 2021</option>
                  <option value="f2021">Fall 2021</option>
                </select>

              </div>
      
              <div id="buttons" style="margin-bottom: 10px">
                <button type="button" class="btn btn-light" onclick="visualise('turbidity')">Turbidity</button>
                <button type="button" class="btn btn-light" onclick="visualise('salinity')">Salinity</button>
                <button type="button" class="btn btn-light" onclick="visualise('temperature')">Temperature</button>
                <button type="button" class="btn btn-light" onclick="visualise('chlorophyll')">Chlorophyll</button>
                <button type="button" class="btn btn-light" onclick="visualise('clear')">Clear</button>
              </div>
                -->
              
                
            </div>
        </div>
    </div>
</section>
    
        
<!-- About -->

<section class="content-section bg-light text-center" id="about">
    <div class="container px-4 px-lg-5">

        <div class="content-section-heading mb-team">
            <h2>about us</h2>
            <h3 class="text-secondary mb-5">[what we are up to]</h3>
        </div>
            
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-xl-10 col-12">
                <div class="timeline timeline-line-solid">
                    <!-- https://www.bootdey.com/snippets/view/bs4-timeline-widget -->
                    <span class="timeline-label">
                        <span class="label">Start</span>
                    </span>

                    <div class="timeline-item">
                        <div class="timeline-point timeline-point"></div>
                        <div class="timeline-event">
                            <div class="widget has-shadow">
                                <div class="widget-header d-flex align-items-center">
                                    <div class="user-image">
                                        <img class="rounded-circle" src="https://pbs.twimg.com/profile_images/1678610374470553601/euP6YyUZ_400x400.jpg" alt="senv profile picture">
                                    </div>
                                    <div class="d-flex flex-column mr-auto">
                                        <div class="title">
                                            <a class="username" href="https://twitter.com/senv_team">@senv_team</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="widget-body">
                                    <p>
                                        Hello everyone! We are a group of people who just started a new side project. Senv stands for science environment. And we will focus on solving science research questions with deep learning. The final goal is to create a "correlate anything model (CORA Model)".
                                    </p>
                                </div>
                                <div class="widget-footer d-flex align-items-center">
                                    <div class="time-right">
                                        September 22, 2023
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> <!-- end of item -->

                    <div class="timeline-item">
                        <div class="timeline-point timeline-point"></div>
                        <div class="timeline-event">
                            <div class="widget has-shadow">
                                <div class="widget-header d-flex align-items-center">
                                    <div class="user-image">
                                        <img class="rounded-circle" src="https://pbs.twimg.com/profile_images/1678610374470553601/euP6YyUZ_400x400.jpg" alt="senv profile picture">
                                    </div>
                                    <div class="d-flex flex-column mr-auto">
                                        <div class="title">
                                            <a class="username" href="https://twitter.com/senv_team">@senv_team</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="widget-body">
                                    <p>
                                        Core team
                                    </p>
                                    <div style="text-align:left;">
                                        <div class="user-image"> <img class="rounded-circle" src="assets/img/alisa.png"> Alisa is our geology expert.</div>
                                        <div class="user-image"> <img class="rounded-circle" src="assets/img/james.png"> James works on Earth science and data analysis.</div>
                                        <div class="user-image"> <img class="rounded-circle" src="assets/img/christina.png"> Christina does deep learning. </div>
                                        <div class="user-image"> <img class="rounded-circle" src="assets/img/stephen.png"> Stephen is our computer scientist. </div>
                                    </div>
                                    <p style="margin-top: 2em;">
                                    If you have ideas for a potential collaboration, message us via <a href="mailto:hello.senv.team@gmail.com">email</a> or on <a href="https://twitter.com/senv_team">Twitter (now X)</a>.
                                    </p>
                                </div>
                                <div class="widget-footer d-flex align-items-center">
                                    <div class="time-right">
                                        Q4, 2023
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> <!-- end of item -->

                    <div class="timeline-item">
                        <div class="timeline-point timeline-point bg-primary"></div>
                        <div class="timeline-event">
                            <div class="widget icon-widget has-shadow bg-primary">
                                <div class="widget-body" style="color: #fff;">
                                    <div class="media">
                                        <div class="media-left align-self-center">
                                            <i class="fa-solid fa-bottle-droplet" style="font-size: 4rem;"></i>
                                        </div>
                                        <div class="media-body align-self-center pl-4">
                                            <p>
                                            "algaebra" Sprint
                                            </p>
                                        </div>
                                        <div style="text-align:left;">
                                            <ul>
                                            <li>Access satellite data: MODIS, LANDSAT, Sentinel 2a/b. <a style="color:#fff" href="wiki/access_data.html">(wiki: access data)</a></li>
                                            <li>Coding topics: multi-modal image analysis, hyperNCA</li>
                                            <li>Science topics: el Nino and la Nina, toxic algae bloom</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>   
                                <div class="widget-footer d-flex align-items-center bg-primary">
                                    <div class="time-right" style="color:#fff;">Q4, 2023</div>
                                </div>
                            </div>
                        </div>
                    </div> <!-- end item -->

                    <div class="timeline-item">
                        <div class="timeline-point timeline-point bg-primary"></div>
                        <div class="timeline-event">
                            <div class="widget icon-widget has-shadow bg-primary">
                                <div class="widget-body" style="color: #fff;">
                                    <div class="media">
                                        <div class="media-left align-self-center">
                                            <i class="fa-solid fa-bottle-droplet" style="font-size: 4rem;"></i>
                                        </div>
                                        <div class="media-body align-self-center pl-4">
                                            <p>
                                            "psycode" Sprint
                                            </p>
                                        </div>
                                        <div style="text-align:left;">
                                            <ul>
                                            <li>Work with MODIS data</li>
                                            <li>Coding topics: TCAV</li>
                                            <li>Science topics: algae bloom, ONI (Oceanic Niño Index)</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>   
                                <div class="widget-footer d-flex align-items-center bg-primary">
                                    <div class="time-right" style="color:#fff;">Q1, 2024</div>
                                </div>
                            </div>
                        </div>
                    </div> <!-- end item -->

                    <div class="timeline-item">
                        <div class="timeline-point timeline-point bg-primary"></div>
                        <div class="timeline-event">
                            <div class="widget icon-widget has-shadow bg-primary">
                                <div class="widget-body" style="color: #fff;">
                                    <div class="media">
                                        <div class="media-left align-self-center">
                                            <i class="fa-solid fa-bottle-droplet" style="font-size: 4rem;"></i>
                                        </div>
                                        <div class="media-body align-self-center pl-4">
                                            <p>
                                            "penina" Sprint
                                            </p>
                                        </div>
                                        <div style="text-align:left;">
                                            <ul>
                                            <li>Save data as CSV files, following our format</li>
                                            <li>Coding topics: horizon plots, access numerical data, convert to CSV format</li>
                                            <li>Science topics: penguin death, chlorophyll in algae, cherry blossom</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>   
                                <div class="widget-footer d-flex align-items-center bg-primary">
                                    <div class="time-right" style="color:#fff;">Q2, 2024</div>
                                </div>
                            </div>
                        </div>
                    </div> <!-- end item -->

                    <div class="timeline-item">
                        <div class="timeline-point timeline-point bg-primary"></div>
                        <div class="timeline-event">
                            <div class="widget icon-widget has-shadow bg-primary">
                                <div class="widget-body" style="color: #fff;">
                                    <div class="media">
                                        <div class="media-left align-self-center">
                                            <i class="fa-solid fa-bottle-droplet" style="font-size: 4rem;"></i>
                                        </div>
                                        <div class="media-body align-self-center pl-4">
                                            <p>
                                            "plotato" Sprint
                                            </p>
                                        </div>
                                        <div style="text-align:left;">
                                            <ul>
                                            <li>All about plotting</li>
                                            <li>Coding topics: Plotting data in R and Python</li>
                                            <li>Science topics: ONI (Oceanic Niño Index), cherry blossom</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>   
                                <div class="widget-footer d-flex align-items-center bg-primary">
                                    <div class="time-right" style="color:#fff;">Q3, 2024</div>
                                </div>
                            </div>
                        </div>
                    </div> <!-- end item -->

                    <!--
                    <div class="timeline-item">
                        <div class="timeline-point timeline-point"></div>
                        <div class="timeline-event">
                            <div class="widget icon-widget has-shadow">
                                <div class="widget-body">
                                    <div class="media">
                                        <div class="media-left align-self-center mr-3">
                                            <a href="#">
                                                <img src="https://bootdey.com/img/Content/avatar/avatar2.png" style="width: 50px;" class="img-fluid rounded-circle" alt="...">
                                            </a>
                                        </div>
                                        <div class="media-body align-self-center">
                                            Louis Henry send you a friend request
                                        </div>
                                    </div>
                                </div>
                            </div>                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-point timeline-point"></div>
                        <div class="timeline-event">
                            <div class="widget widget-08 has-shadow">
                                <div class="widget-body">
                                    <div class="today">
                                        <div class="title">Todo</div>
                                        <div class="new-tasks"><span class="nb">2</span> new tasks</div>
                                    </div>
                                    <div class="todo-list">
                                        <ul id="sortable" class="list">
                                            <li class="task-color task-violet">
                                                <div class="styled-checkbox">
                                                    <input type="checkbox" id="check-1">
                                                    <label class="text-primary" for="check-1">Play Rainbow Six 18:00 PM</label>
                                                </div>
                                            </li>
                                            <li class="task-color task-blue">
                                                <div class="styled-checkbox">
                                                    <input type="checkbox" id="check-2">
                                                    <label class="text-info" for="check-2">Video conference 11:30 AM</label>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>                        </div>
                    </div>
                    <span class="timeline-label">
                        <span class="label">Q4 2023 sprint "algeabra" complete</span>
                    </span>

                    <div class="timeline-item">
                        <div class="timeline-point timeline-point"></div>
                        <div class="timeline-event">
                            <div class="widget has-shadow">
                                <div class="alert alert-success" role="alert">
                                    <strong>Hey!</strong> This is a success alert
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-point timeline-point" style="background-color: #cc181e; color: #cc181e;"></div>
                        <div class="timeline-event">
                            <div class="widget icon-widget has-shadow">
                                <div class="widget-body">
                                    <div class="media">
                                        <div class="media-left align-self-center">
                                            <i class="la la-youtube" style="font-size: 4rem; color: #cc181e;"></i>
                                        </div>
                                        <div class="media-body align-self-center pl-4">
                                            New video posted
                                            <h3>Video Title</h3>
                                        </div>
                                    </div>
                                </div>

                                <div class="widget-footer no-bg no-border pt-0 d-flex justify-content-end">
                                    <div class="meta" style="font-size: 0.85rem;">
                                        <ul>
                                            <li><a href="#"><i class="la la-comments"></i><span class="numb">38</span></a></li>
                                            <li><a href="#"><i class="la la-thumbs-o-up"></i><span class="numb">124</span></a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    --> 




                    <span class="timeline-label">
                        <span class="label bg-primary">Future</span>
                    </span>
                </div>
            </div>
        </div>
    </div>

    </div>
</section>


        <!-- Callout-->
        <!--
        <section class="callout">
            <div class="container px-4 px-lg-5 text-center">
                <h2 class="mx-auto mb-5">
                    Welcome to
                    <em>your</em>
                    next website!
                </h2>
                <a class="btn btn-primary btn-xl" href="https://startbootstrap.com/theme/stylish-portfolio/">Download Now!</a>
            </div>
        </section>
        -->
        <!-- Portfolio-->
        <!--
        <section class="content-section" id="system">
            <div class="container px-4 px-lg-5">
                <div class="content-section-heading text-center">
                    <h2 class>systems in the system</h2>
                    <h3 class="text-secondary mb-5">[Topics we are focusing on]</h3>
                </div>
                <div class="row gx-0">
                    <div class="col-lg-4 portfolio-extra">
                        <a class="portfolio-item" href="wiki/sun.html">
                            <div class="caption">
                                <div class="caption-content">
                                    <h4><strong>Solar flares</strong></h4>
                                    <p class="mb-0">Solar flare analysis.</p>
                                </div>
                            </div>
                            <img class="img-fluid" src="assets/img/sun.jpg" alt="Sun" />
                        </a>
                    </div>
                    <div class="col-lg-4 portfolio-extra">
                        <a class="portfolio-item" href="wiki/rocks.html">
                            <div class="caption">
                                <div class="caption-content">
                                    <h4><strong>Algae</strong></h4>
                                    <p class="mb-0">Analysis of harmful algae bloom.</p>
                                </div>
                            </div>
                            <img class="img-fluid" src="assets/img/rocks.jpg" alt="..." />
                        </a>
                    </div>
                    <div class="col-lg-4 portfolio-extra">
                        <a class="portfolio-item" href="wiki/clouds.html">
                            <div class="caption">
                                <div class="caption-content">
                                    <h4><strong>Eyes</strong></h4>
                                    <p class="mb-0">Analysis of retinal disease</p>
                                </div>
                            </div>
                            <img class="img-fluid" src="assets/img/clouds.jpg" alt="..." />
                        </a>
                    </div>
                </div>
            </div>
        </section>
        -->

<!-- Wiki -->
<section class="static-bg content-section bg-secondary-opa">
    <div class="container px-4 px-lg-5">
        <div class="content-section-heading text-center">
            <h2>wiki</h2>
            <h3 class="mb-5">[Topics we are focusing on]</h3>
        </div>
        <div class="row gx-0">

            <div class="col-lg-4 portfolio-extra">
                <a class="portfolio-item" href="wiki/access_data.html">
                    <div class="caption">
                        <div class="caption-content">
                            <p class="mb-0">What we learned on</p>
                            <h4><strong>how to access data</strong></h4>
                        </div>
                    </div>
                    <img class="img-fluid" src="assets/img/sun.jpg" alt="Sun" />
                </a>
            </div>

            <div class="col-lg-4 portfolio-extra">
                <a class="portfolio-item" href="wiki/remote_sensing.html">
                    <div class="caption">
                        <div class="caption-content">
                            <p class="mb-0">Basics of</p>
                            <h4><strong>remote sensing</strong></h4>
                        </div>
                    </div>
                    <img class="img-fluid" src="assets/img/sun.jpg" alt="Sun" />
                </a>
            </div>

            <div class="col-lg-4 portfolio-extra">
                <a class="portfolio-item" href="wiki/monitoring_algal_blooms.html">
                    <div class="caption">
                        <div class="caption-content">
                            <p class="mb-0">How to monitor</p>
                            <h4><strong>algal bloom</strong></h4>
                        </div>
                    </div>
                    <img class="img-fluid" src="assets/img/sun.jpg" alt="Sun" />
                </a>
            </div>
            <!--
            <div class="col-lg-4 portfolio-extra">
                <a class="portfolio-item" href="wiki/intro.html">
                    <div class="caption">
                        <div class="caption-content">
                            <p class="mb-0">Access</p>
                            <h4><strong>our wiki</strong></h4>
                        </div>
                    </div>
                    <img class="img-fluid" src="assets/img/sun.jpg" alt="Sun" />
                </a>
            </div>
            
            <div class="col-lg-4 portfolio-extra">
                <a class="portfolio-item" href="wiki/algae.html">
                    <div class="caption">
                        <div class="caption-content">
                            <h4><strong>Algae</strong></h4>
                            <p class="mb-0">Analysis of harmful algae bloom.</p>
                        </div>
                    </div>
                    <img class="img-fluid" src="assets/img/sun.jpg" alt="Sun" />
                </a>
            </div>
            <div class="col-lg-4 portfolio-extra">
                <a class="portfolio-item" href="wiki/eye.html">
                    <div class="caption">
                        <div class="caption-content">
                            <h4><strong>Eyes</strong></h4>
                            <p class="mb-0">Analysis of retinal disease</p>
                        </div>
                    </div>
                    <img class="img-fluid" src="assets/img/sun.jpg" alt="Sun" />
                </a>
            </div>
            -->
        </div>
    </div>
</section>
        
<!-- Footer-->
<footer class="footer text-center">
    <div class="container px-4 px-lg-5">
        <ul class="list-inline mb-5">
            <li class="list-inline-item">
                <a class="social-link rounded-circle text-white mr-3" href="https://twitter.com/senv_team"><i class="icon-social-twitter"></i></a>
            </li>
            <li class="list-inline-item">
                <a class="social-link rounded-circle text-white" href="https://github.com/senv-team"><i class="icon-social-github"></i></a>
            </li>
            <li class="list-inline-item">
                <a class="social-link rounded-circle text-white" href="wiki/index.html"><i class="icon-book-open"></i></a>
            </li>
        </ul>
        <p class="text-muted small mb-0">Copyright &copy; senv team 2024. Background image generated with DALL-E Free.</p>
    </div>
</footer>

<!-- Scroll to Top Button-->
<a class="scroll-to-top rounded" href="#page-top"><i class="fas fa-angle-up"></i></a>


<script>

// Size ?
var box = document.querySelector('.content');
var width = box.offsetWidth;
var height = box.offsetWidth - box.offsetWidth/4;

// The svg
var svg = d3.select("#my_dataviz")
  .append("svg")
  .attr("width", width)
  .attr("height", height)

// Map and projection
var projection = d3.geoMercator()
    .center([-90.5, 29.5])                // GPS of location to zoom on
    .scale(9000)                       // This is like the zoom
    .translate([ width/2, height/2 ])

// Create data for circles:
/*var markers = [
  {long: -91.445, lat: 29.510, name: "Atchafalaya River and Terrebonne Basins, Louisiana "},
  {long: -90.822, lat: 29.171, name: "Atchafalaya River and Terrebonne Basins, Louisiana 1"}
];*/

var cities = [
  {lat: 30.222708, long: -92.021188, name: "Lafayette"},
  {lat: 30.446537, long: -91.179788, name: "Baton Rouge"},
  {lat: 29.935802, long: -90.092378, name: "New Orleans"},
  {lat: 29.487184, long: -89.703631, name: "Port Sulphur"},
  {lat: 29.639886, long: -91.224589, name: "St Mary Parish"}
  //{lat: 30.219550, long: -93.212037, name: "Lake Charles"},
  //{lat: 30.207972, long: -92.681870, name: "Jennings"},
];

/*
var Bathy = [];
d3.csv("https://raw.githubusercontent.com/Conex-Research/conex-research.github.io/main/data/ADCP_20210325-154526_WLO_VP-MW-center_001_Rep1_Bathy.csv", function(d) {
  
  for (var i = 0; i < d.length; i++) {
        Bathy.push({"long": d[i].longitude, "lat": d[i].latitude, "river_depth": d[i].river_depth, "colour": "#9999FF"});
    }
})
*/


//var allGroup = ["Spring 2021", "Fall 2021"]
var dropdownButton = d3.select("#dataviz_builtWithD3")
  .append('select')

/*
var turbidity_s2021 = [];
d3.csv("https://raw.githubusercontent.com/Conex-Research/conex-research.github.io/main/data/DeltaX_Insitu_WQ_Indicators_V2_2080/DeltaX_WQ_Indicators_Spring2021.csv", function(d) {
  function removeNaN(e,c){
    if(e>=0){return e}else{return c}
  }
  var min = d3.min(d, function(a) { return + removeNaN(a.turbidity); });
  var max = d3.max(d, function(a) { return + a.turbidity; });
  var myColor = d3.scaleLinear().domain([min,max]).range(["white", "red"])
  for (var i = 0; i < d.length; i++) {
        turbidity_s2021.push({"long": d[i].longitude, "lat": d[i].latitude, "turbidity": d[i].turbidity, "colour": myColor});
    }
})
*/
/*
var turbidity_f2021 = [];
d3.csv("https://raw.githubusercontent.com/Conex-Research/conex-research.github.io/main/data/DeltaX_Insitu_WQ_Indicators_V2_2080/DeltaX_WQ_Indicators_Fall2021.csv", function(d) {
  function removeNaN(e,c){
    if(e>=0){return e}else{return c}
  }
  var min = d3.min(d, function(a) { return + removeNaN(a.turbidity); });
  var max = d3.max(d, function(a) { return + a.turbidity; });
  var myColor = d3.scaleLinear().domain([min,max]).range(["white", "red"])
  for (var i = 0; i < d.length; i++) {
        turbidity_f2021.push({"long": d[i].longitude, "lat": d[i].latitude, "turbidity": d[i].turbidity, "colour": myColor});
    }
})
*/
/*
var salinity_s2021 = [];
d3.csv("https://raw.githubusercontent.com/Conex-Research/conex-research.github.io/main/data/DeltaX_Insitu_WQ_Indicators_V2_2080/DeltaX_WQ_Indicators_Spring2021.csv", function(d) {
  function removeNaN(e,c){
    if(e>=0){return e}else{return c}
  }
  function removehigh(e,c){
    if(e<10){return e}else{return c}
  }
  var min = d3.min(d, function(a) { return + removeNaN(a.salinity); });
  var max = d3.max(d, function(a) { return + a.salinity; });
  var myColor = d3.scaleLinear().domain([min,max]).range(["white", "red"])
  for (var i = 0; i < d.length; i++) {
        salinity_s2021.push({"long": d[i].longitude, "lat": d[i].latitude, "salinity": d[i].salinity, "colour": myColor});
    }
})
*/
/*
var salinity_f2021 = [];
d3.csv("https://raw.githubusercontent.com/Conex-Research/conex-research.github.io/main/data/DeltaX_Insitu_WQ_Indicators_V2_2080/DeltaX_WQ_Indicators_Fall2021.csv", function(d) {
  function removeNaN(e,c){
    if(e>=0){return e}else{return c}
  }
  function removehigh(e,c){
    if(e<10){return e}else{return c}
  }
  var min = d3.min(d, function(a) { return + removeNaN(a.salinity); });
  var max = d3.max(d, function(a) { return + a.salinity; });
  var myColor = d3.scaleLinear().domain([min,max]).range(["white", "red"])
  for (var i = 0; i < d.length; i++) {
        salinity_f2021.push({"long": d[i].longitude, "lat": d[i].latitude, "salinity": d[i].salinity, "colour": myColor});
    }
})
*/
/*
var temperature_s2021 = [];
d3.csv("https://raw.githubusercontent.com/Conex-Research/conex-research.github.io/main/data/DeltaX_Insitu_WQ_Indicators_V2_2080/DeltaX_WQ_Indicators_Spring2021.csv", function(d) {
  function removeNaN(e,c){
    if(e>=0){return e}else{return c}
  }
  var min = d3.min(d, function(a) { return + removeNaN(a.temperature); });
  var max = d3.max(d, function(a) { return + a.temperature; });
  var myColor = d3.scaleLinear().domain([min,max]).range(["white", "red"])
  for (var i = 0; i < d.length; i++) {
        temperature_s2021.push({"long": d[i].longitude, "lat": d[i].latitude, "temperature": d[i].temperature, "colour": myColor});
    }
})
*/
/*
var temperature_f2021 = [];
d3.csv("https://raw.githubusercontent.com/Conex-Research/conex-research.github.io/main/data/DeltaX_Insitu_WQ_Indicators_V2_2080/DeltaX_WQ_Indicators_Fall2021.csv", function(d) {
  function removeNaN(e,c){
    if(e>=0){return e}else{return c}
  }
  var min = d3.min(d, function(a) { return + removeNaN(a.temperature); });
  var max = d3.max(d, function(a) { return + a.temperature; });
  var myColor = d3.scaleLinear().domain([min,max]).range(["white", "red"])
  for (var i = 0; i < d.length; i++) {
        temperature_f2021.push({"long": d[i].longitude, "lat": d[i].latitude, "temperature": d[i].temperature, "colour": myColor});
    }
})
*/
/*
var chlorophyll_s2021 = [];
d3.csv("https://raw.githubusercontent.com/Conex-Research/conex-research.github.io/main/data/DeltaX_Insitu_WQ_Indicators_V2_2080/DeltaX_WQ_Indicators_Spring2021.csv", function(d) {
  function removeNaN(e,c){
    if(e>=0){return e}else{return c}
  }
  var min = d3.min(d, function(a) { return + removeNaN(a.chlorophyll_a_fluorescence); });
  var max = d3.max(d, function(a) { return + a.chlorophyll_a_fluorescence; });
  var myColor = d3.scaleLinear().domain([min,max]).range(["white", "red"])
  for (var i = 0; i < d.length; i++) {
        chlorophyll_s2021.push({"long": d[i].longitude, "lat": d[i].latitude, "chlorophyll": d[i].chlorophyll_a_fluorescence, "colour": myColor});
    }
})
*/
/*

var chlorophyll_f2021 = [];
d3.csv("https://raw.githubusercontent.com/Conex-Research/conex-research.github.io/main/data/DeltaX_Insitu_WQ_Indicators_V2_2080/DeltaX_WQ_Indicators_Fall2021.csv", function(d) {
  function removeNaN(e,c){
    if(e>=0){return e}else{return c}
  }
  var min = d3.min(d, function(a) { return + removeNaN(a.chlorophyll_a_fluorescence); });
  var max = d3.max(d, function(a) { return + a.chlorophyll_a_fluorescence; });
  var myColor = d3.scaleLinear().domain([min,max]).range(["white", "red"])
  for (var i = 0; i < d.length; i++) {
        chlorophyll_f2021.push({"long": d[i].longitude, "lat": d[i].latitude, "chlorophyll": d[i].chlorophyll_a_fluorescence, "colour": myColor});
    }
})
*/


var Airpressure = [
              {"long":-91.445,"lat":29.510, name:"Air pressure at Make Island in Atchafalaya River", "description": "In Fall 2021, the Solinst Levelogger Junior Edge Model 3001 and the Onset HOBO U20L instruments were used to measure air pressure." , id:"Atchafalaya_Airpressure", class:"measurements"},
              {"long":-90.823,"lat":29.172, name:"Air pressure at Terrebonne", "description": "In Fall 2021, the Solinst Levelogger Junior Edge Model 3001 was used to measure air pressure." , id:"Terrebonne_Airpressure", class:"measurements"}
              ];

var Alternanthera = [
            {"long":-91.27973,"lat":29.53945, name: "Occurance of alternanthera philoxeroides", "description": "In Fall 2015, vegetation was analysed. In this region, Alternanthera philoxeroides was found." , id:"Alternanthera", class:"measurements"},
              {"long":-91.27973,"lat":29.42521},
              {"long":-91.44506,"lat":29.42521},
              {"long":-91.44506,"lat":29.53945}];





// https://geojson-maps.ash.ms/
// need to upload it to github
// Load external data and boot
// https://d3-graph-gallery.com/graph/bubblemap_tooltip.html
/* https://raw.githubusercontent.com/Conex-Research/conex-research.github.io/main/data/us-filtered.json */
d3.json("https://raw.githubusercontent.com/Conex-Research/conex-research.github.io/main/data/us-filtered.json", function(data){

  // "https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson"

    // Filter data
    // data.features = data.features.filter( function(d){return d.properties.adm0_a3=="USA"} )

    // Draw the map
    svg.append("g")
        .selectAll("path")
        .data(data.features)
        .enter()
        .append("path")
          .attr("fill", "#b8b8b8")
          .attr("d", d3.geoPath()
              .projection(projection)
          )
        .style("stroke", "black")
        .style("opacity", .3)

    // create a tooltip
    var Tooltip = d3.select("#my_dataviz")
      .append("div")
      .attr("id", "plot")
      .attr("class", "tooltip")
      .style("opacity", 1)
      .style("border", "solid")
      .style("border-width", "2px")
      .style("border-radius", "5px")
      .style("padding", "5px")
      .html("Select a box")


    var mouseover_Airpressure = function(d) {

      boxes = document.getElementsByClassName(d.class)
      for(var i=0, len=boxes.length; i<len; i++)
      {
          boxes[i].style.stroke = "#173b6c";
      }

      box = document.getElementById(d.id)
      box.style.stroke = "#149ddd"
      
      Tooltip
        .html(d.name + "<br>" + d.description + "<br> <div id='plot'></div>")
        .style("left", (d3.mouse(this)[0]+10) + "px")
        .style("top", (d3.mouse(this)[1]) + "px")
        .attr("stroke", "#119900")

      // set the dimensions and margins of the graph
      var margin = {top: 10, right: 30, bottom: 30, left: 60},
          width = 300 - margin.left - margin.right,
          height = 200 - margin.top - margin.bottom;

      // append the svg object to the body of the page
      var svg_plot = d3.select("#plot")
        .append("svg")
          .attr("width", width + margin.left + margin.right)
          .attr("height", height + margin.top + margin.bottom)
        .append("g")
          .attr("transform",
                "translate(" + margin.left + "," + margin.top + ")");


      if (d.id == "Atchafalaya_Airpressure") {

        //Read the data
      d3.csv("https://raw.githubusercontent.com/Conex-Research/conex-research.github.io/main/data/DeltaX_Turbidity_Data_V3_2113/DeltaX_Fall2021_AirPressure_Atchafalaya_MikeIsland_MW_channel.csv", function(data) {

        // group the data: I want to draw one line per group
        var sumstat = d3.nest() // nest function allows to group the calculation per level of a factor
          .key(function(d) { return d.instrument;})
          .entries(data);

        // Add X axis --> it is a date format
        var x = d3.scaleTime()
          .domain([
            new Date(d3.min(data, function(d) { return + new Date(d.time).getTime(); })), 
            new Date(d3.max(data, function(d) { return + new Date(d.time).getTime(); }))])
          .range([ 0, width ]);
        var xAxis = d3.axisBottom(x)
          .tickFormat(d3.timeFormat("%m-%d"))
          .ticks(3);
        svg_plot.append("g")
          .attr("transform", "translate(0," + height + ")") // makes it go to the bottom
          .call(xAxis); // d3.axisBottom(x));

        // Add Y axis
        var y = d3.scaleLinear()
          .domain([
            d3.min(data, function(d) { return + d.measured_pressure; }), 
            d3.max(data, function(d) { return + d.measured_pressure; })])
          .range([ height, 0 ]);
        var yAxis = d3.axisLeft(y)
          .ticks(5);
        svg_plot.append("g")
          .call(yAxis);

        // color palette
        var res = sumstat.map(function(d){ return d.key }) // list of group names
        var color = d3.scaleOrdinal()
          .domain(res)
          .range(['#e41a1c','#377eb8','#4daf4a','#984ea3','#ff7f00','#ffff33','#a65628','#f781bf','#999999'])

        // Draw the line
        svg_plot.selectAll(".line")
            .data(sumstat)
            .enter()
            .append("path")
              .attr("fill", "none")
              .attr("stroke", function(d){ return color(d.key) })
              .attr("stroke-width", 1.5)
              .attr("d", function(d){
                return d3.line()
                  .x(function(d) { return x(+new Date(d.time).getTime()); })
                  .y(function(d) { return y(+d.measured_pressure); })
                  (d.values)
              })
        })

      } else if (d.id == "Terrebonne_Airpressure"){

        //Read the data
      d3.csv("https://raw.githubusercontent.com/Conex-Research/conex-research.github.io/main/data/DeltaX_Turbidity_Data_V3_2113/DeltaX_Fall2021_AirPressure_Terrebonne_421_pond.csv", function(data) {

        // group the data: I want to draw one line per group
        var sumstat = d3.nest() // nest function allows to group the calculation per level of a factor
          .key(function(d) { return d.instrument;})
          .entries(data);

        // Add X axis --> it is a date format
        var x = d3.scaleTime()
          .domain([
            new Date(d3.min(data, function(d) { return + new Date(d.time).getTime(); })), 
            new Date(d3.max(data, function(d) { return + new Date(d.time).getTime(); }))])
          .range([ 0, width ]);
        var xAxis = d3.axisBottom(x)
          .tickFormat(d3.timeFormat("%m-%d"))
          .ticks(3);
        svg_plot.append("g")
          .attr("transform", "translate(0," + height + ")") // makes it go to the bottom
          .call(xAxis); // d3.axisBottom(x));

        // Add Y axis
        var y = d3.scaleLinear()
          .domain([
            d3.min(data, function(d) { return + d.measured_pressure; }), 
            d3.max(data, function(d) { return + d.measured_pressure; })])
          .range([ height, 0 ]);
        var yAxis = d3.axisLeft(y)
          .ticks(5);
        svg_plot.append("g")
          .call(yAxis);

        // color palette
        var res = sumstat.map(function(d){ return d.key }) // list of group names
        var color = d3.scaleOrdinal()
          .domain(res)
          .range(['#e41a1c','#377eb8','#4daf4a','#984ea3','#ff7f00','#ffff33','#a65628','#f781bf','#999999'])

        // Draw the line
        svg_plot.selectAll(".line")
            .data(sumstat)
            .enter()
            .append("path")
              .attr("fill", "none")
              .attr("stroke", function(d){ return color(d.key) })
              .attr("stroke-width", 1.5)
              .attr("d", function(d){
                return d3.line()
                  .x(function(d) { return x(+new Date(d.time).getTime()); })
                  .y(function(d) { return y(+d.measured_pressure); })
                  (d.values)
              })
      })
    }



      }

      
    var mouseover_Alternanthera = function(d) {
      boxes = document.getElementsByClassName(d[0].class)
      for(var i=0, len=boxes.length; i<len; i++)
      {
          boxes[i].style.stroke = "#173b6c";
      }

      box = document.getElementById(d[0].id)
      box.style.stroke = "#149ddd"
      Tooltip
        .html(d[0].name + "<br>" + d[0].description + "<br> <div id='plot'></div>")
        .style("left", (d3.mouse(this)[0]+10) + "px")
        .style("top", (d3.mouse(this)[1]) + "px")
        .attr("stroke", "#119900")
    }

    svg
      .selectAll("Airpressure_polygons")
      .data(Airpressure)
      .enter()
      .append('rect')
        .attr('x', function(d){ return projection([d.long, d.lat])[0]-15 })
        .attr('y', function(d){ return projection([d.long, d.lat])[1]-15 })
        .attr('width', 15)
        .attr('height', 15)
      .attr("stroke-width",2)
      .style("fill", "#111111")
      .attr("stroke", "#173b6c")
      .attr("id", function(d){return d.id})
      .attr("class", function(d){return d.class})
      .attr("fill-opacity", .2)
      .on("mouseover", mouseover_Airpressure)

    svg
      .selectAll("Alternanthera_polygon")
      .data([Alternanthera])
      .enter()
      .append("polygon")
      .attr("points",function(d) { 
                return d.map(function(d) {
                  return [projection([d.long, d.lat])[0], projection([d.long, d.lat])[1]].join(",")
          }).join(" ");
      })
      .attr("stroke-width",2)
      .style("fill", "#111111")
      .attr("stroke", "#173b6c")
      .attr("id", function(d){return d[0].id})
      .attr("class", function(d){return d[0].class})
      .attr("fill-opacity", .2)
      .on("mouseover", mouseover_Alternanthera)

    svg
      .selectAll("city_circle")
      .data(cities)
      .enter()
      .append("circle")
        .attr("cx", function(d){ return projection([d.long, d.lat])[0] })
        .attr("cy", function(d){ return projection([d.long, d.lat])[1] })
        .attr("r", 5)
        .attr("class", "city")
        .style("fill", "#173b6c")

    svg
     .selectAll("city_text")
     .data(cities)
     .enter()
     .append("text")
     .attr("x", function(d){ return projection([d.long+0.07, d.lat-0.03])[0] })
     .attr("y", function(d){ return projection([d.long+0.07, d.lat-0.03])[1] })
     .attr("text-anchor", "start")
     .text(function(d){ return d.name })

    /*
     svg
      .selectAll("river_circle")
      .data(Bathy)
      .enter()
      .append("circle")
        .attr("cx", function(d){ return projection([d.long, d.lat])[0] })
        .attr("cy", function(d){ return projection([d.long, d.lat])[1] })
        .attr("r", 5)
        .attr("class", "river")
        .style("fill",  function(d){ return d.colour})
      */ 
      
    ;
})

/*
var visualise = function (d){

  var e = document.getElementById("spring_fall");
  var value = e.value;

  svg.selectAll(".river").remove();

    if (d == "turbidity"){
      if(value == "s2021"){
        turbidity = turbidity_s2021
      }else{
        turbidity = turbidity_f2021
      }
      svg
        .selectAll("turbidity_circle")
        .data(turbidity)
        .enter()
        .append("circle")
          .attr("cx", function(d){ return projection([d.long, d.lat])[0] })
          .attr("cy", function(d){ return projection([d.long, d.lat])[1] })
          .attr("r", 2)
          .attr("class", "river")
          .style("fill",  function(d){ return d.colour(d.turbidity)})

      }else if (d == "salinity"){
        if(value == "s2021"){
          salinity = salinity_s2021
        }else{
          salinity = salinity_f2021
        }
      svg
        .selectAll("salinity_circle")
        .data(salinity)
        .enter()
        .append("circle")
          .attr("cx", function(d){ return projection([d.long, d.lat])[0] })
          .attr("cy", function(d){ return projection([d.long, d.lat])[1] })
          .attr("r", 2)
          .attr("class", "river")
          .style("fill",  function(d){ return d.colour(d.salinity)})

      }else if (d == "temperature"){
        if(value == "s2021"){
          temperature = temperature_s2021
        }else{
          temperature = temperature_f2021
        }
      svg
        .selectAll("temperature_circle")
        .data(temperature)
        .enter()
        .append("circle")
          .attr("cx", function(d){ return projection([d.long, d.lat])[0] })
          .attr("cy", function(d){ return projection([d.long, d.lat])[1] })
          .attr("r", 2)
          .attr("class", "river")
          .style("fill",  function(d){ return d.colour(d.temperature)})
      }else if (d == "chlorophyll"){
        if(value == "s2021"){
          chlorophyll = chlorophyll_s2021
        }else{
          chlorophyll = chlorophyll_f2021
        }
      svg
        .selectAll("chlorophyll_circle")
        .data(chlorophyll)
        .enter()
        .append("circle")
          .attr("cx", function(d){ return projection([d.long, d.lat])[0] })
          .attr("cy", function(d){ return projection([d.long, d.lat])[1] })
          .attr("r", 2)
          .attr("class", "river")
          .style("fill",  function(d){ return d.colour(d.chlorophyll)})
      }

}
*/





</script>


<!-- Bootstrap core JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Core theme JS-->
<script src="js/scripts.js"></script>

</body>
</html>
